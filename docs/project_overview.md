# プロジェクト概要

## アプリ名
**My Life Goal** - マンダラチャート式目標管理アプリ

## プロジェクトの目的

人生の大きな目標を達成可能な具体的アクションに分解し、日々の実践を通じて着実に前進するための目標管理ツール。マンダラチャートの思考法と実践的なタスク管理を融合させることで、夢を現実に変える。

## マンダラチャートとは？

### 概要
マンダラチャート（マンダラート）は、目標達成のための思考整理法です。9×9の81マスのグリッドを使い、中心に置いた大目標を段階的に具体化していきます。

### 構造

```
┌─────────────────────────────────────────────────────────┐
│                    9×9 グリッド                          │
│                                                          │
│  ┌─────────┬─────────┬─────────┐                       │
│  │ 小目標   │ 小目標   │ 小目標   │  ← 各中目標に対する   │
│  │ 群1      │ 群2      │ 群3      │     8つの具体的行動   │
│  ├─────────┼─────────┼─────────┤                       │
│  │ 小目標   │【中心】  │ 小目標   │                       │
│  │ 群8      │ 大目標   │ 群4      │  ← 中心3×3マス       │
│  │         │8中目標  │         │                       │
│  ├─────────┼─────────┼─────────┤                       │
│  │ 小目標   │ 小目標   │ 小目標   │                       │
│  │ 群7      │ 群6      │ 群5      │                       │
│  └─────────┴─────────┴─────────┘                       │
└─────────────────────────────────────────────────────────┘
```

### 3層構造

1. **大目標（1つ）**
   - 中心の中心セル
   - 達成したい最終的な目標
   - 例: "世界で活躍するエンジニアになる"

2. **中目標（8つ）**
   - 中心3×3の周囲8マス
   - 大目標を実現するための8つの要素
   - 例: "技術力向上"、"英語力"、"ネットワーク"、"実績作り"など

3. **小目標（64個）**
   - 外側の8つの3×3ブロック
   - 各中目標を達成するための具体的な8つのアクション
   - 例: 中目標"技術力向上" → "毎日コーディング"、"OSS貢献"など

## 本アプリの独自性

### 従来のマンダラチャートツールの課題
- 作成して終わり、実践に結びつかない
- 目標が大きすぎて、日々の行動に落とし込めない
- 進捗が見えず、モチベーションが続かない

### 本アプリの解決策

```
マンダラチャート作成
    ↓
年間目標への分割（12ヶ月）
    ↓
月間タスクへの分割（4週間）
    ↓
週間タスクへの設定（7日間）
    ↓
日次タスクの実行
    ↓
進捗確認・振り返り
    ↓
目標達成！
```

## 主要機能

### フェーズ1: マンダラチャート作成 ⭐ 最初の実装対象

#### 機能詳細
1. **9×9グリッドの表示**
   - 中心3×3と外側8ブロックを視覚的に区別
   - 各セルはタップで編集可能

2. **3層の目標入力**
   - 大目標（中心）の入力
   - 8つの中目標の入力
   - 各中目標に対する8つの小目標の入力

3. **視覚的フィードバック**
   - 入力済み/未入力のセルを色で区別
   - 入力率の表示（例: 45/81マス入力済み）
   - 各ブロックの完成度を視覚化

4. **編集機能**
   - セルタップで編集ダイアログ表示
   - テキスト入力・保存・キャンセル
   - クリアボタンでセルの内容削除

5. **ナビゲーション**
   - 中目標タップで対応する小目標ブロックへズーム
   - 全体表示とブロック詳細表示の切り替え

#### UI/UX
- **カラーリング**
  - 大目標: 深い青（重要性を強調）
  - 中目標: 緑（成長を象徴）
  - 小目標: グレー→入力後は明るい色
  
- **レスポンシブ**
  - 画面サイズに応じてセルサイズを調整
  - スクロール・ズームで見やすく

### フェーズ2: 年間目標への分割

#### 機能詳細
1. **64個の小目標から年間タスクを生成**
   - 各小目標を12ヶ月に割り当て
   - 優先度と難易度を考慮した自動分配
   - 手動での調整も可能

2. **年間カレンダー表示**
   - 1-12月のタイムライン
   - 各月に割り当てられた目標の一覧
   - 月ごとの負荷を視覚化

3. **年間目標の編集**
   - ドラッグ&ドロップで月間移動
   - 目標の追加・削除・編集

### フェーズ3: 月間・週間・日次タスク管理

#### 月間タスク
1. **月初の目標設定**
   - 年間目標から今月の目標を確認
   - 4週間への分割提案
   - カスタマイズ可能

2. **月間進捗管理**
   - 週ごとの達成状況
   - 月間目標の達成率

#### 週間タスク
1. **週初のプランニング**
   - 月間目標から今週のタスク抽出
   - 各タスクを曜日に割り当て
   - 所要時間の見積もり

2. **週間レビュー**
   - 達成したタスクの確認
   - 未達成タスクの次週への繰越

#### 日次タスク
1. **今日のタスクリスト**
   - 週間計画から自動生成
   - チェックボックスで完了管理
   - 優先度順に並べ替え

2. **デイリーログ**
   - 実施したタスクの記録
   - 振り返りメモ
   - 明日への引き継ぎ

### フェーズ4: 進捗管理・分析機能

#### ダッシュボード
1. **全体の進捗**
   - マンダラチャート達成率（81マス中の進行状況）
   - 年間目標の達成率
   - 月間・週間の進捗

2. **視覚化**
   - プログレスバー
   - 円グラフ（達成済み/進行中/未着手）
   - トレンドグラフ（時系列の進捗）

#### 振り返り機能
1. **定期レビュー**
   - 週次レビュー: 達成できたこと・できなかったこと
   - 月次レビュー: 目標との乖離分析
   - 年次レビュー: 大目標への接近度

2. **リフレクション**
   - 気づきや学びの記録
   - 改善アクションの設定

## データ構造（概要）

### MandalChart（マンダラチャート）
```dart
{
  "id": "uuid",
  "centerGoal": "大目標",
  "createdAt": "2025-01-01",
  "updatedAt": "2025-11-05",
  "middleGoals": [
    {
      "id": "uuid",
      "position": 1, // 0-7
      "title": "中目標1",
      "smallGoals": [
        {
          "id": "uuid",
          "position": 0, // 0-7
          "title": "小目標1",
          "status": "not_started", // not_started/in_progress/completed
        },
        // ... 8つ
      ]
    },
    // ... 8つ
  ]
}
```

### Task（タスク）
```dart
{
  "id": "uuid",
  "smallGoalId": "uuid", // 元となる小目標
  "title": "タスク名",
  "description": "詳細",
  "period": "daily/weekly/monthly/yearly", // タスクの期間タイプ
  "status": "not_started/in_progress/completed",
  "dueDate": "2025-12-31", // 期限（オプション）
  "createdAt": "2025-11-01",
  "updatedAt": "2025-11-05",
}
```

### FocusTaskList（フォーカスタスク）
```dart
{
  "dailyTaskIds": ["uuid1", ...],   // 今日のタスクID（優先順位順）
  "weeklyTaskIds": ["uuid2", ...],  // 今週のタスクID（優先順位順）
  "monthlyTaskIds": ["uuid3", ...], // 今月のタスクID（優先順位順）
  "yearlyTaskIds": ["uuid4", ...],  // 今年のタスクID（優先順位順）
  "updatedAt": "2025-11-05",
}
```

### タスク管理の特徴

#### 3つのタブ構成
1. **マンダラチャート**: 目標の全体像を管理
2. **タスク一覧**: 期間別にタスクを管理
3. **フォーカスタスク**: 重要タスクをスプリントプランニング形式で管理

#### 期間別管理（タスク一覧タブ）
小目標を以下の4つの期間に分けて管理：
- **1日**: 明日までに完了するタスク（翌日期限）
- **1週間**: 1週間以内のタスク（7日後期限）
- **1月**: 1ヶ月以内のタスク（1ヶ月後期限）
- **1年**: 1年以内のタスク（1年後期限）

#### フォーカスタスク機能（スプリントプランニング）
- タスク一覧から重要なタスクを選び、期間を指定してフォーカスに追加
  - **今日**: 今日やるタスク
  - **今週**: 今週やるタスク
  - **今月**: 今月やるタスク
  - **今年**: 今年やるタスク
- 各期間内でドラッグ&ドロップで優先順位を調整
- 期間間でタスクを移動可能（今週→今日など）
- 本当に重要なタスクに集中できる
- フォーカスから削除してもタスク自体は残る

#### UI/UX の特徴
- 全期間が常に表示（セクション形式）
- 各期間に専用の＋ボタン
- ミニマルな情報表示（必要最小限のテキストとアイコン）
- チェックボックスで即座に完了マーク
- 長押しでオプションメニュー（期間変更/フォーカス追加/削除）
- ドラッグ&ドロップでの直感的な並び替え

## 画面遷移フロー

```
スプラッシュ画面
    ↓
ホーム画面（ダッシュボード）
    ├→ マンダラチャート作成/編集画面 ⭐ Phase 1
    │   └→ セル編集ダイアログ
    │
    ├→ 年間目標管理画面（Phase 2）
    │   └→ 月間目標詳細画面
    │       └→ 週間タスク画面
    │           └→ 日次タスク画面
    │
    └→ 進捗・レビュー画面（Phase 4）
        ├→ 週次レビュー
        ├→ 月次レビュー
        └→ 年次レビュー
```

## ターゲットユーザー

### プライマリ
- 人生の大きな目標を持つ20-40代
- 目標達成のための具体的な行動計画を求めている人
- 日々のタスク管理が苦手で、大きな視点が欲しい人

### ユースケース
1. **キャリアゴール**: "5年後にCTOになる"
2. **スキルアップ**: "3つのプログラミング言語をマスターする"
3. **ライフスタイル**: "健康的な生活習慣を身につける"
4. **副業・起業**: "1年後に月収50万円の副業を確立する"

## 成功指標

### ユーザー満足度
- マンダラチャート完成率 > 80%
- アプリの継続利用率（3ヶ月） > 60%
- 目標達成実感（主観アンケート） > 4.0/5.0

### エンゲージメント
- 週間アクティブユーザー率 > 70%
- 日次タスク更新頻度 > 週5日
- レビュー機能利用率 > 50%

## 技術スタック

### フロントエンド
- **Flutter**: クロスプラットフォーム開発
- **Dart**: 3.9.2+
- **Riverpod**: 状態管理
- **Freezed**: 不変データクラス

### データ永続化
- **SharedPreferences**: 軽量データ（設定など）
- **Hive** or **SQLite**: 構造化データ（目標・タスク）

### その他
- **Flutter Lints**: コード品質
- **Build Runner**: コード生成

## 開発ロードマップ

### Phase 1: MVP（Minimum Viable Product）✅ 完了
- [x] プロジェクト設定
- [x] マンダラチャート作成機能
  - [x] データモデル実装（MandalChart, Goal）
  - [x] UI実装（9×9グリッド）
  - [x] 編集機能（大目標→中目標→小目標の階層的入力制約）
  - [x] データ永続化（SharedPreferences）
- [x] 基本的なナビゲーション（3タブ構成）
- [x] タスク管理機能（Phase 1.5として前倒し実装）
  - [x] タスクモデル（Task, TaskPeriod, TaskStatus）
  - [x] 期間別タスク管理（1日/1週間/1月/1年）
  - [x] タスクの追加・編集・削除
  - [x] ステータス管理（未着手/進行中/完了）
  - [x] 小目標とタスクの紐付け
- [x] フォーカスタスク機能（Phase 1.6として前倒し実装）
  - [x] フォーカスタスクモデル（FocusTaskList）
  - [x] タスク一覧からフォーカスへの追加
  - [x] ドラッグ&ドロップによる優先順位調整
  - [x] フォーカスタスクの削除
  - [x] データ永続化（SharedPreferences）

**実装期間**: 4週間

### Phase 2: タスク分解機能
- [ ] 年間目標への分割機能
- [ ] 月間タスク管理
- [ ] カレンダービュー

**目標期間**: 3-4週間

### Phase 3: 日常のタスク管理
- [ ] 週間タスク機能
- [ ] 日次タスク機能
- [ ] 通知機能

**目標期間**: 2-3週間

### Phase 4: 分析・振り返り
- [ ] ダッシュボード
- [ ] 進捗分析
- [ ] レビュー機能

**目標期間**: 2-3週間

### Phase 5: 機能拡張（将来）
- [ ] データのクラウド同期
- [ ] 共有機能（目標を友人とシェア）
- [ ] テンプレート機能
- [ ] AIによる目標達成アドバイス

## まとめ

**My Life Goal** は、マンダラチャートの思考整理法と実践的なタスク管理を融合させた、目標達成支援アプリです。

### コアバリュー
1. **明確化**: 大きな夢を具体的な行動に分解
2. **実践**: 日々のタスクとして実行可能に
3. **継続**: 進捗を可視化してモチベーション維持
4. **達成**: 着実に大目標へ近づく

まずはPhase 1のマンダラチャート作成機能から、丁寧に実装していきます。



